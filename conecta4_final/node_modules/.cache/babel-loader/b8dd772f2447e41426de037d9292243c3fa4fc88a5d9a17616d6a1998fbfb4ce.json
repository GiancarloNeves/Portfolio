{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gianc\\\\Downloads\\\\conecta4_final\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Tabuleiro from './Tabuleiro';\nimport { startConfetti, stopConfetti } from './confetti';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLS = 7;\nconst ROWS = 6;\nfunction criarTabuleiro() {\n  return Array.from({\n    length: ROWS\n  }, () => Array(COLS).fill(null));\n}\nexport default function App() {\n  _s();\n  const [tab, setTab] = useState(criarTabuleiro());\n  const [jogador, setJogador] = useState('vermelho');\n  const [vencedor, setVencedor] = useState(null);\n  const [historico, setHistorico] = useState([]);\n  const [nomeVermelho, setNomeVermelho] = useState('Vermelho');\n  const [nomeAmarelo, setNomeAmarelo] = useState('Amarelo');\n  const [oponente, setOponente] = useState('humano');\n  const [modoEspecial, setModoEspecial] = useState(false);\n  const [numVerdes, setNumVerdes] = useState(1);\n  const [verdeSpots, setVerdeSpots] = useState([]);\n  const [msgAviso, setMsgAviso] = useState(null);\n  const confettiRef = useRef(null);\n  const partidaIniciada = Array.isArray(historico) && historico.length > 0 || vencedor !== null;\n  useEffect(() => {\n    if (vencedor) startConfetti(confettiRef.current);\n  }, [vencedor]);\n  useEffect(() => {\n    if (oponente === 'cpu' && jogador === 'amarelo' && !vencedor) {\n      const t = setTimeout(() => {\n        const coluna = calcularJogadaCPU(tab, 'amarelo', 'vermelho');\n        if (coluna != null) jogarNaColuna(coluna);\n      }, 700);\n      return () => clearTimeout(t);\n    }\n  }, [oponente, jogador, vencedor, tab]);\n  useEffect(() => {\n    if (oponente === 'cpu' && !partidaIniciada) setNomeAmarelo('BOT');\n  }, [oponente, partidaIniciada]);\n  useEffect(() => {\n    if (!partidaIniciada) {\n      if (modoEspecial) setVerdeSpots(gerarVerdes(numVerdes));else setVerdeSpots([]);\n    }\n  }, [modoEspecial, numVerdes, partidaIniciada]);\n  function zera() {\n    setTab(criarTabuleiro());\n    const primeiro = Math.random() < 0.5 ? 'vermelho' : 'amarelo';\n    setJogador(primeiro);\n    setVencedor(null);\n    setHistorico([]);\n    setMsgAviso(null);\n    if (modoEspecial) setVerdeSpots(gerarVerdes(numVerdes));else setVerdeSpots([]);\n    stopConfetti(confettiRef.current);\n  }\n  function undo() {\n    const last = historico[historico.length - 1];\n    if (!last || vencedor) return;\n    const novo = tab.map(r => r.slice());\n    novo[last.r][last.c] = null;\n    setTab(novo);\n    setHistorico(historico.slice(0, -1));\n    setJogador(last.jogador === 'vermelho' ? 'amarelo' : 'vermelho');\n  }\n  function jogarNaColuna(col) {\n    if (vencedor) return;\n    for (let r = ROWS - 1; r >= 0; r--) {\n      if (!tab[r][col]) {\n        const novo = tab.map(row => row.slice());\n        novo[r][col] = jogador;\n        setTab(novo);\n        setHistorico([...historico, {\n          r,\n          c: col,\n          jogador\n        }]);\n        const win = checarVitoria(novo, r, col, jogador);\n        if (win) setVencedor({\n          jogador,\n          linha: win\n        });else {\n          const key = `${r},${col}`;\n          if (modoEspecial && verdeSpots.includes(key)) {\n            setMsgAviso('Acertou um espaço especial — joga novamente!');\n            setTimeout(() => setMsgAviso(null), 1800);\n          } else {\n            setJogador(prev => prev === 'vermelho' ? 'amarelo' : 'vermelho');\n          }\n        }\n        return;\n      }\n    }\n    const elm = document.querySelector('[data-col=\"' + col + '\"]');\n    if (elm) {\n      elm.classList.remove('shake');\n      void elm.offsetWidth;\n      elm.classList.add('shake');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"cabecalho\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Conecta 4 \\u2014 Vers\\xE3o Final\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Jogador 1:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: nomeVermelho,\n              onChange: e => setNomeVermelho(e.target.value),\n              disabled: partidaIniciada\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Jogador 2:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: nomeAmarelo,\n              onChange: e => setNomeAmarelo(e.target.value),\n              disabled: oponente === 'cpu' || partidaIniciada\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Oponente:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: oponente,\n              onChange: e => setOponente(e.target.value),\n              disabled: partidaIniciada,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"humano\",\n                children: \"Humano\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cpu\",\n                children: \"M\\xE1quina (CPU)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: modoEspecial,\n              onChange: e => setModoEspecial(e.target.checked),\n              disabled: partidaIniciada\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Modo de jogo especial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip\",\n              style: {\n                marginLeft: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"qmark\",\n                children: \"?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltiptext\",\n                children: \"Se ativado, N espa\\xE7os do tabuleiro s\\xE3o marcados em verde no in\\xEDcio da partida. Ao jogar em um espa\\xE7o verde o jogador ganha a oportunidade de jogar novamente.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Quantos verdes:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: numVerdes,\n              onChange: e => setNumVerdes(Number(e.target.value)),\n              disabled: partidaIniciada || !modoEspecial,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 2,\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 3,\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 4,\n                children: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controles\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zera,\n          children: \"Recome\\xE7ar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: undo,\n          disabled: historico.length === 0 || vencedor,\n          children: \"Desfazer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-esquerda\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status\",\n          children: [vencedor ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vencedor\",\n            children: [\"\\uD83C\\uDF89 \", vencedor.jogador === 'vermelho' ? nomeVermelho : nomeAmarelo, \" venceu!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"proximo\",\n            children: [\"Pr\\xF3ximo: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'token mini ' + jogador\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 49\n            }, this), \" \", jogador === 'vermelho' ? nomeVermelho : nomeAmarelo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), msgAviso && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"msg-aviso\",\n            children: msgAviso\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 26\n          }, this), modoEspecial && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8,\n              fontSize: 13,\n              opacity: 0.9\n            },\n            children: [\"Espa\\xE7os especiais nesta partida: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: verdeSpots.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 116\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"ajuda\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Dicas r\\xE1pidas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Clique em uma coluna para soltar a pe\\xE7a.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Use \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Desfazer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 23\n              }, this), \" para reverter o \\xFAltimo movimento.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Procure criar duas amea\\xE7as simult\\xE2neas!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tabuleiro-container\",\n        children: /*#__PURE__*/_jsxDEV(Tabuleiro, {\n          tab: tab,\n          onPlay: jogarNaColuna,\n          vencedor: vencedor,\n          verdeSpots: verdeSpots\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"confetti\",\n        ref: confettiRef,\n        className: \"confetti-canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"rodape\",\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: \"Feito com \\u2665 \\u2014 melhore e personalize \\xE0 vontade.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ERZFZAi5AX6NoVzxC827RoQTIWI=\");\n_c = App;\nfunction gerarVerdes(n) {\n  const total = ROWS * COLS;\n  const indices = Array.from({\n    length: total\n  }, (_, i) => i);\n  for (let i = indices.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [indices[i], indices[j]] = [indices[j], indices[i]];\n  }\n  const chosen = indices.slice(0, n);\n  return chosen.map(idx => {\n    const r = Math.floor(idx / COLS);\n    const c = idx % COLS;\n    return `${r},${c}`;\n  });\n}\nfunction checarVitoria(tab, r, c, jogador) {\n  const directions = [{\n    dr: 0,\n    dc: 1\n  }, {\n    dr: 1,\n    dc: 0\n  }, {\n    dr: 1,\n    dc: 1\n  }, {\n    dr: 1,\n    dc: -1\n  }];\n  for (const {\n    dr,\n    dc\n  } of directions) {\n    let seq = [[r, c]];\n    for (let k = 1; k < 4; k++) {\n      const rr = r + dr * k,\n        cc = c + dc * k;\n      if (rr < 0 || rr >= tab.length || cc < 0 || cc >= tab[0].length) break;\n      if (tab[rr][cc] === jogador) seq.push([rr, cc]);else break;\n    }\n    for (let k = 1; k < 4; k++) {\n      const rr = r - dr * k,\n        cc = c - dc * k;\n      if (rr < 0 || rr >= tab.length || cc < 0 || cc >= tab[0].length) break;\n      if (tab[rr][cc] === jogador) seq.push([rr, cc]);else break;\n    }\n    if (seq.length >= 4) return seq;\n  }\n  return null;\n}\nfunction calcularJogadaCPU(tab, cpuPlayer, oponente) {\n  const COLS = tab[0].length;\n  function simDrop(col, player) {\n    const novo = tab.map(r => r.slice());\n    for (let r = novo.length - 1; r >= 0; r--) {\n      if (!novo[r][col]) {\n        novo[r][col] = player;\n        return {\n          r,\n          novo\n        };\n      }\n    }\n    return null;\n  }\n  for (let c = 0; c < COLS; c++) {\n    const s = simDrop(c, cpuPlayer);\n    if (s) {\n      if (checarVitoria(s.novo, s.r, c, cpuPlayer)) return c;\n    }\n  }\n  for (let c = 0; c < COLS; c++) {\n    const s = simDrop(c, oponente);\n    if (s) {\n      if (checarVitoria(s.novo, s.r, c, oponente)) return c;\n    }\n  }\n  const order = [3, 2, 4, 1, 5, 0, 6];\n  for (const c of order) {\n    if (tab[0][c] === null) return c;\n  }\n  return null;\n}\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Tabuleiro","startConfetti","stopConfetti","jsxDEV","_jsxDEV","COLS","ROWS","criarTabuleiro","Array","from","length","fill","App","_s","tab","setTab","jogador","setJogador","vencedor","setVencedor","historico","setHistorico","nomeVermelho","setNomeVermelho","nomeAmarelo","setNomeAmarelo","oponente","setOponente","modoEspecial","setModoEspecial","numVerdes","setNumVerdes","verdeSpots","setVerdeSpots","msgAviso","setMsgAviso","confettiRef","partidaIniciada","isArray","current","t","setTimeout","coluna","calcularJogadaCPU","jogarNaColuna","clearTimeout","gerarVerdes","zera","primeiro","Math","random","undo","last","novo","map","r","slice","c","col","row","win","checarVitoria","linha","key","includes","prev","elm","document","querySelector","classList","remove","offsetWidth","add","className","children","style","display","alignItems","gap","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","disabled","type","checked","marginLeft","Number","onClick","marginTop","fontSize","opacity","onPlay","id","ref","_c","n","total","indices","_","i","j","floor","chosen","idx","directions","dr","dc","seq","k","rr","cc","push","cpuPlayer","simDrop","player","s","order","$RefreshReg$"],"sources":["C:/Users/gianc/Downloads/conecta4_final/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Tabuleiro from './Tabuleiro';\nimport { startConfetti, stopConfetti } from './confetti';\n\nconst COLS = 7;\nconst ROWS = 6;\n\nfunction criarTabuleiro(){\n  return Array.from({length: ROWS}, ()=> Array(COLS).fill(null));\n}\n\nexport default function App(){\n  const [tab, setTab] = useState(criarTabuleiro());\n  const [jogador, setJogador] = useState('vermelho');\n  const [vencedor, setVencedor] = useState(null);\n  const [historico, setHistorico] = useState([]);\n\n  const [nomeVermelho, setNomeVermelho] = useState('Vermelho');\n  const [nomeAmarelo, setNomeAmarelo] = useState('Amarelo');\n  const [oponente, setOponente] = useState('humano');\n\n  const [modoEspecial, setModoEspecial] = useState(false);\n  const [numVerdes, setNumVerdes] = useState(1);\n  const [verdeSpots, setVerdeSpots] = useState([]);\n\n  const [msgAviso, setMsgAviso] = useState(null);\n  const confettiRef = useRef(null);\n\n  const partidaIniciada = Array.isArray(historico) && historico.length > 0 || vencedor !== null;\n\n  useEffect(()=>{\n    if(vencedor) startConfetti(confettiRef.current);\n  },[vencedor]);\n\n  useEffect(()=>{\n    if(oponente === 'cpu' && jogador === 'amarelo' && !vencedor){\n      const t = setTimeout(()=>{\n        const coluna = calcularJogadaCPU(tab, 'amarelo', 'vermelho');\n        if(coluna != null) jogarNaColuna(coluna);\n      }, 700);\n      return ()=> clearTimeout(t);\n    }\n  },[oponente, jogador, vencedor, tab]);\n\n  useEffect(()=>{\n    if(oponente === 'cpu' && !partidaIniciada) setNomeAmarelo('BOT');\n  },[oponente, partidaIniciada]);\n\n  useEffect(()=>{\n    if(!partidaIniciada){\n      if(modoEspecial) setVerdeSpots(gerarVerdes(numVerdes));\n      else setVerdeSpots([]);\n    }\n  },[modoEspecial, numVerdes, partidaIniciada]);\n\n  function zera(){\n    setTab(criarTabuleiro());\n    const primeiro = Math.random() < 0.5 ? 'vermelho' : 'amarelo';\n    setJogador(primeiro);\n    setVencedor(null);\n    setHistorico([]);\n    setMsgAviso(null);\n    if(modoEspecial) setVerdeSpots(gerarVerdes(numVerdes));\n    else setVerdeSpots([]);\n    stopConfetti(confettiRef.current);\n  }\n\n  function undo(){\n    const last = historico[historico.length -1];\n    if(!last || vencedor) return;\n    const novo = tab.map(r=>r.slice());\n    novo[last.r][last.c] = null;\n    setTab(novo);\n    setHistorico(historico.slice(0,-1));\n    setJogador(last.jogador === 'vermelho' ? 'amarelo' : 'vermelho');\n  }\n\n  function jogarNaColuna(col){\n    if(vencedor) return;\n    for(let r = ROWS-1; r>=0; r--){\n      if(!tab[r][col]){\n        const novo = tab.map(row=>row.slice());\n        novo[r][col] = jogador;\n        setTab(novo);\n        setHistorico([...historico, {r,c:col,jogador}]);\n        const win = checarVitoria(novo, r, col, jogador);\n        if(win) setVencedor({jogador, linha: win});\n        else {\n          const key = `${r},${col}`;\n          if(modoEspecial && verdeSpots.includes(key)){\n            setMsgAviso('Acertou um espaço especial — joga novamente!');\n            setTimeout(()=> setMsgAviso(null), 1800);\n          } else {\n            setJogador(prev => prev === 'vermelho' ? 'amarelo' : 'vermelho');\n          }\n        }\n        return;\n      }\n    }\n    const elm = document.querySelector('[data-col=\"'+col+'\"]');\n    if(elm){\n      elm.classList.remove('shake');\n      void elm.offsetWidth;\n      elm.classList.add('shake');\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      <header className=\"cabecalho\">\n        <div style={{display:'flex', alignItems:'center', gap:12}}>\n          <h1>Conecta 4 — Versão Final</h1>\n          <div className=\"menu\">\n            <label>Jogador 1:\n              <input\n                value={nomeVermelho}\n                onChange={e=>setNomeVermelho(e.target.value)}\n                disabled={partidaIniciada}\n              />\n            </label>\n\n            <label>Jogador 2:\n              <input\n                value={nomeAmarelo}\n                onChange={e=>setNomeAmarelo(e.target.value)}\n                disabled={oponente === 'cpu' || partidaIniciada}\n              />\n            </label>\n\n            <label>Oponente:\n              <select value={oponente} onChange={e=>setOponente(e.target.value)} disabled={partidaIniciada}>\n                <option value=\"humano\">Humano</option>\n                <option value=\"cpu\">Máquina (CPU)</option>\n              </select>\n            </label>\n\n            <label style={{display:'flex',alignItems:'center',gap:6}}>\n              <input type=\"checkbox\" checked={modoEspecial} onChange={e=>setModoEspecial(e.target.checked)} disabled={partidaIniciada} />\n              <span>Modo de jogo especial</span>\n              <span className=\"tooltip\" style={{marginLeft:6}}>\n                <span className=\"qmark\">?</span>\n                <span className=\"tooltiptext\">Se ativado, N espaços do tabuleiro são marcados em verde no início da partida. Ao jogar em um espaço verde o jogador ganha a oportunidade de jogar novamente.</span>\n              </span>\n            </label>\n\n            <label>\n              Quantos verdes:\n              <select value={numVerdes} onChange={e=>setNumVerdes(Number(e.target.value))} disabled={partidaIniciada || !modoEspecial}>\n                <option value={1}>1</option>\n                <option value={2}>2</option>\n                <option value={3}>3</option>\n                <option value={4}>4</option>\n                <option value={5}>5</option>\n              </select>\n            </label>\n          </div>\n        </div>\n        <div className=\"controles\">\n          <button onClick={zera}>Recomeçar</button>\n          <button onClick={undo} disabled={historico.length===0 || vencedor}>Desfazer</button>\n        </div>\n      </header>\n\n      <main>\n        <div className=\"col-esquerda\">\n          <div className=\"status\">\n            {vencedor ? (\n              <div className=\"vencedor\">🎉 {vencedor.jogador === 'vermelho' ? nomeVermelho : nomeAmarelo} venceu!</div>\n            ) : (\n              <div className=\"proximo\">Próximo: <span className={'token mini '+jogador}></span> {jogador === 'vermelho' ? nomeVermelho : nomeAmarelo}</div>\n            )}\n            {msgAviso && <div className=\"msg-aviso\">{msgAviso}</div>}\n            {modoEspecial && <div style={{marginTop:8, fontSize:13, opacity:0.9}}>Espaços especiais nesta partida: <strong>{verdeSpots.length}</strong></div>}\n          </div>\n\n          <aside className=\"ajuda\">\n            <h3>Dicas rápidas</h3>\n            <ul>\n              <li>Clique em uma coluna para soltar a peça.</li>\n              <li>Use <strong>Desfazer</strong> para reverter o último movimento.</li>\n              <li>Procure criar duas ameaças simultâneas!</li>\n            </ul>\n          </aside>\n        </div>\n\n        <div className=\"tabuleiro-container\">\n          <Tabuleiro tab={tab} onPlay={jogarNaColuna} vencedor={vencedor} verdeSpots={verdeSpots} />\n        </div>\n\n        <canvas id=\"confetti\" ref={confettiRef} className=\"confetti-canvas\"></canvas>\n      </main>\n\n      <footer className=\"rodape\">\n        <small>Feito com ♥ — melhore e personalize à vontade.</small>\n      </footer>\n    </div>\n  );\n}\n\nfunction gerarVerdes(n){\n  const total = ROWS * COLS;\n  const indices = Array.from({length: total}, (_,i)=>i);\n  for(let i = indices.length -1; i>0; i--){\n    const j = Math.floor(Math.random()*(i+1));\n    [indices[i], indices[j]] = [indices[j], indices[i]];\n  }\n  const chosen = indices.slice(0,n);\n  return chosen.map(idx => {\n    const r = Math.floor(idx / COLS);\n    const c = idx % COLS;\n    return `${r},${c}`;\n  });\n}\n\nfunction checarVitoria(tab, r, c, jogador){\n  const directions = [\n    {dr:0, dc:1}, {dr:1, dc:0}, {dr:1, dc:1}, {dr:1, dc:-1}\n  ];\n  for(const {dr,dc} of directions){\n    let seq = [[r,c]];\n    for(let k=1;k<4;k++){\n      const rr = r + dr*k, cc = c + dc*k;\n      if(rr<0||rr>=tab.length||cc<0||cc>=tab[0].length) break;\n      if(tab[rr][cc] === jogador) seq.push([rr,cc]); else break;\n    }\n    for(let k=1;k<4;k++){\n      const rr = r - dr*k, cc = c - dc*k;\n      if(rr<0||rr>=tab.length||cc<0||cc>=tab[0].length) break;\n      if(tab[rr][cc] === jogador) seq.push([rr,cc]); else break;\n    }\n    if(seq.length >= 4) return seq;\n  }\n  return null;\n}\n\nfunction calcularJogadaCPU(tab, cpuPlayer, oponente){\n  const COLS = tab[0].length;\n  function simDrop(col, player){\n    const novo = tab.map(r=>r.slice());\n    for(let r = novo.length-1; r>=0; r--){\n      if(!novo[r][col]){ novo[r][col] = player; return {r, novo}; }\n    }\n    return null;\n  }\n  for(let c=0;c<COLS;c++){\n    const s = simDrop(c, cpuPlayer);\n    if(s){\n      if(checarVitoria(s.novo, s.r, c, cpuPlayer)) return c;\n    }\n  }\n  for(let c=0;c<COLS;c++){\n    const s = simDrop(c, oponente);\n    if(s){\n      if(checarVitoria(s.novo, s.r, c, oponente)) return c;\n    }\n  }\n  const order = [3,2,4,1,5,0,6];\n  for(const c of order){\n    if(tab[0][c] === null) return c;\n  }\n  return null;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}